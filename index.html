<!doctype html>
<html>

<head>
  <title>OMF</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<link rel="stylesheet" type="text/css" href="css/main.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"
  integrity="sha512-wV7Yj1alIZDqZFCUQJy85VN+qvEIly93fIQAN7iqDFCPEucLCeNFz4r35FCo9s6WrpdDQPi80xbljXB8Bjtvcg=="
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css"
  integrity="sha512-P5MgMn1jBN01asBgU0z60Qk4QxiXo86+wlFahKrsQf37c9cro517WzVSPPV1tDKzhku2iJ2FVgL67wG03SGnNA=="
  crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<body>


  <!--Navbar bootstrap starts-->
  <nav class="navbar" id="navbar">
    <div class="container">

      <div class="navbar-header">
        <button class="navbar-toggler" data-toggle="open-navbar1">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <a href="#">
          <h4>Ouchamps<span> Mining </span>Farm</h4>
        </a>
      </div>

      <div class="navbar-menu" id="open-navbar1">
        <ul class="navbar-nav">
          <li class="active"></li>
          <!-- <li><a href="groupes.html">Groupes</a></li> -->
          <!-- <li><a href="photos.html">Photos</a></li> -->
          <!-- <li><a href="about.html">A propos</a></li> -->
          <!-- <li><a href="#foot">Contact</a></li> -->
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="card-deck">
        <div class="card col-sm ethermine-container">
          <img src="./img/red.jpeg" class="card-img-top ethermine-img" alt="...">
          <div class="card-body">
            <h5 class="card-title">Ethermine Pool Stats</h5>
            <p class="card-text">Mining ETH</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item ethereumPrice"></li>
            <li class="list-group-item ethermineActiveWorkers"></li>
            <li class="list-group-item ethermineCurrentHashRate"></li>
            <li class="list-group-item ethermineReportedHashrate"></li>
            <li class="list-group-item ethermineValidShares"></li>
            <li class="list-group-item ethermineStaleshares"></li>
            <li class="list-group-item ethermineInvalidShares"></li>
            <li class="list-group-item ethermineCoinsPerDay"></li>
          </ul>
          <div class="card-body">
            <a target="_blank" href="https://ethermine.org/miners/0x982A366CB0bFe6eA5C04A4017c839Ef83B02978C/dashboard"
              class="card-link">Ethermine ETH</a>
          </div>
        </div>
        <div class="card col-sm">
          <img src="./img/red.jpeg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Hiveon Pool Stats</h5>
            <p class="card-text">Mining ETH</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item ethereumPrice"></li>
            <li class="list-group-item hiveonActiveWorkersOnline"></li>
            <li class="list-group-item hiveonCurrentHashRate"></li>
            <li class="list-group-item hiveonReportedHashrate"></li>
            <li class="list-group-item hiveonValidShares"></li>
            <li class="list-group-item hiveonStaleshares"></li>
            <li class="list-group-item hiveonInvalidShares"></li>
          </ul>
          <div class="card-body">
            <a target="_blank" href="https://hiveon.net/eth?miner=0x982A366CB0bFe6eA5C04A4017c839Ef83B02978C"
              class="card-link">Hiveon ETH</a>
          </div>
        </div>
        <div class="card col-sm">
          <img src="./img/red.jpeg" class="card-img-top cortex-img" alt="...">
          <div class="card-body">
            <h5 class="card-title">2miners Pool Stats</h5>
            <p class="card-text">Mining Cortex</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item cortexPrice"></li>
            <li class="list-group-item cortexActiveWorkers"></li>
            <li class="list-group-item cortexCurrentHashRate"></li>
            <li class="list-group-item cortexReportedHashrate"></li>
            <li class="list-group-item cortexCoinsPerDay"></li>
            <li class="list-group-item cortexTotalPaid"></li>
            <li class="list-group-item cortexcurrentLuck"></li>
            <li class="list-group-item cortexProfitPerDay"></li>
          </ul>
          <div class="card-body">
            <a target="_blank" href="https://ctxc.2miners.com/account/0x277e50882683b8e94585f0116d6806176304af6b"
              class="card-link">2minersCortex</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <canvas id="pie-chart" width="800" height="450"></canvas>

  </div>

  <!-- <div class="container ethermineContainer">
  <hr>
  <div class="row">
    <div class="col-sm">
      <h2>Ethermine Mining Stats</h2>
    </div>
    <div class="col-sm">
      <p class="ethermineDate"></p>
    </div>
    <div class="col-sm">
      <p class="ethermineActiveWorkers"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <p class="ethermineCurrentHashRate"></p>
    </div>
    <div class="col-sm">
      <p class="ethermineReportedHashrate"></p>
    </div>
    <div class="col-sm">
      <p class="ethermineCoinsPerDay"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <p class="ethermineValidShares"></p>
    </div>
    <div class="col-sm">
      <p class="ethermineStaleshares"></p>
    </div>
    <div class="col-sm">
      <p class="ethermineInvalidShares"></p>
    </div>
  </div>
</div> -->

  <script>
    $(document).ready(function () {
      var hiveonActiveWorkersOnline = '0'
      var hiveonValidShares = '0'
      var hiveonInvalidShares = '0'
      var hiveonStaleShares = '0'
      var hiveonReportedHashrate = '0'
      var hiveonCurrentHashRate = '0'
      var hiveonProfit = '0'
      var coinsPerday = ''
      var cortexProfitPerDay = ''

      var ethermineHeight = '1100';
      $('.card').css('height', ethermineHeight)
      var date = ''
      var d = new Date();
      var curr_date = d.getDate();
      var curr_month = d.getMonth();
      curr_month++;
      var curr_year = d.getFullYear();
      date = curr_date + "-" + curr_month + "-" + curr_year


      // START OF ETHERMINE API

      $.ajax({
        type: "get", url: "https://api.ethermine.org/miner/0x982A366CB0bFe6eA5C04A4017c839Ef83B02978C/dashboard",
        success: function (data, text) {
          var results = data
          var dataLength = results.data.statistics.length - 1
          var lastHR = results.data.statistics[dataLength]
          var activeWorkers = results.data.statistics[dataLength].activeWorkers
          var currentHashrate1 = results.data.statistics[dataLength].currentHashrate / 1000000
          var currentHashrateToString = currentHashrate1.toString();
          var currentHashrate = currentHashrateToString.substring(0, 6)
          var invalidShares = results.data.statistics[dataLength].invalidShares
          var reportedHashrate1 = results.data.statistics[dataLength].reportedHashrate / 1000000
          var reportedHashrateToString = reportedHashrate1.toString();
          var reportedHashrate = reportedHashrateToString.substring(0, 6);
          var staleShares = results.data.statistics[dataLength].staleShares
          var timeStamp = results.data.statistics[dataLength].time
          var validShares = results.data.statistics[dataLength].validShares

          if (reportedHashrate <= 300) {
            $(".ethermine-img").attr("src", "./img/red.jpeg");
          } else {
            $(".ethermine-img").attr("src", "./img/green.jpeg");
          }

          if (reportedHashrate == 0) {
            activeWorkers = 0
          } else {
            activeWorkers = activeWorkers
          }
          if (activeWorkers == 0) {
            // Activate when ready $(".ethermine-container").hide();
          }
          $.ajax({
            type: "get", url: "https://api.coingecko.com/api/v3/coins/ethereum",
            success: function (data, text) {
              var results = data
              var ethereumPrice = results.market_data.current_price.usd
              $('.ethereumPrice').html('ethereum Price <br>' + ethereumPrice + '$')
            },
            error: function (request, status, error) {
              // alert(request.responseText);
            }
          })


          $('.ethermineDate').html('Date <br>' + date)
          $('.ethermineActiveWorkers').html('Active Workers <br>' + activeWorkers)
          $('.ethermineCurrentHashRate').html('Current HashRate <br>' + currentHashrate + 'MH/s')
          $('.ethermineReportedHashrate').html('Reported HashRate <br>' + reportedHashrate + 'MH/s')
          $('.ethermineValidShares').html('Valid shares <br>' + validShares)
          $('.ethermineStaleshares').html('Stale Shares <br>' + staleShares)
          $('.ethermineInvalidShares').html('Invalid Shares <br>' + invalidShares)
          $('.ethermineContainer').show() //IF ALL SUCCESS => SHOW
        },
        error: function (request, status, error) {
          $('.ethermineContainer').hide() //IF ALL FAILED => HIDE
        }
      });

      $.ajax({
        type: "get", url: "https://api.ethermine.org/miner/0x982A366CB0bFe6eA5C04A4017c839Ef83B02978C/currentStats",
        success: function (data, text) {
          var results2 = data
          var coinsPerMinute = results2.data.usdPerMin * 60
          var coinsperday = coinsPerMinute * 24
          var coinsPerdayString = coinsperday.toString();
          coinsPerday = coinsPerdayString.substring(0, 5);
          $('.ethermineCoinsPerDay').html('Profit Per 24h <br>' + coinsPerday + "$")

        },
        error: function (request, status, error) {
          // alert(request.responseText);
        }
      });
      // END OF ETHERMINE API



      // START OF CORTEX API

      $.ajax({
        type: "get", url: "https://ctxc.2miners.com/api/accounts/0x277e50882683b8e94585f0116d6806176304af6b",
        success: function (data, text) {
          var cortexResult = data
          var activeWorkers = cortexResult.workersOnline
          var currentHashrate1 = cortexResult.currentHashrate
          var currentHashrateToString = currentHashrate1.toString();
          var currentHashrate = currentHashrateToString.substring(0, 5);
          var averageHashrate24 = cortexResult.hashrate.toString().substring(0, 5)
          var timeStamp = cortexResult.updatedAt
          var cortexPer24 = cortexResult.sumrewards[2].reward
          var cortextoString = cortexPer24.toString();
          var cortexPerDayString = cortextoString.substring(0, 4);
          var total1 = cortexResult.stats.paid
          var totalToString = total1.toString();
          var totalPaid1 = totalToString.substring(0, 6)
          var a = cortexPerDayString;
          var b = ".";
          var position = 2;
          var cortexPerDay = [a.slice(0, position), b, a.slice(position)].join('');
          var c = totalPaid1;
          var d = ".";
          var position = 3;
          var totalPaid = [c.slice(0, position), d, c.slice(position)].join('');
          var currentLuck = cortexResult.currentLuck

          if (currentHashrate <= 15) {
            $(".cortex-img").attr("src", "./img/red.jpeg");
          } else {
            $(".cortex-img").attr("src", "./img/green.jpeg");
          }

          var power = ''
          if (currentHashrate >= 1000) {
            power = 'GH/S'
          } else {
            power = 'MH/s'
          }

          $('.cortexDate').html('Date <br>' + date)
          $('.cortexActiveWorkers').html('Active Workers <br>' + activeWorkers)
          $('.cortexCurrentHashRate').html('Current HashRate <br>' + currentHashrate + ' ' + power)
          $('.cortexReportedHashrate').html('Reported HashRate <br>' + averageHashrate24 + ' ' + power)
          $('.cortexCoinsPerDay').html('Cortex/24h <br>' + cortexPerDay)
          $('.cortexTotalPaid').html('Total Paid <br>' + totalPaid)
          $('.cortexcurrentLuck').html('Current Luck <br>' + currentLuck)

          $.ajax({
            type: "get", url: "https://api.coingecko.com/api/v3/coins/cortex",
            success: function (data, text) {

              var results = data
              var result = results.market_data.current_price.usd
              var cortexPrice1 = result
              var cortexPriceToString = cortexPrice1.toString().substring(0, 4)
              var cortexPrice = cortexPriceToString
              var cortexProfitPerDay1 = cortexPerDay * cortexPrice
              var cortexProfitPerDayString = cortexProfitPerDay1.toString();
              cortexProfitPerDay = cortexProfitPerDayString.substring(0, 5)
              $('.cortexPrice').html('Cortex Price <br>' + cortexPrice + '$')
              $('.cortexProfitPerDay').html('Profit per 24h <br>' + cortexProfitPerDay + '$')
            },
            error: function (request, status, error) {
              // alert(request.responseText);
            }
          })
        },
        error: function (request, status, error) {

        }
      });
      // END OF CORTEX API

      //START OF HIVEON API




      $.ajax({
        type: "get", url: "https://hiveon.net/api/v1/stats/miner/982a366cb0bfe6ea5c04a4017c839ef83b02978c/ETH/billing-acc",
        success: function (data, text) {
          $.ajax({
            type: "get", url: "https://api.coingecko.com/api/v3/coins/ethereum",
            success: function (data, text) {
              var results = data
              var ethereumPrice = results.market_data.current_price.usd
              $('.ethereumPrice').html('ethereum Price <br>' + ethereumPrice + '$')
              var results = data
              hiveonProfitEther = results.expectedReward24H
              hiveonProfit = hiveonProfitEther * ethereumPrice
            },
            error: function (request, status, error) {
              // alert(request.responseText);
            }
          })

        },

        error: function (request, status, error) {
          // alert(request.responseText);
        }
      })

      $.ajax({
        type: "get", url: "https://hiveon.net/api/v1/stats/miner/982a366cb0bfe6ea5c04a4017c839ef83b02978c/ETH",
        success: function (data, text) {
          var results = data
          hiveonActiveWorkersOnline = data.onlineWorkerCount
          var shares = data.sharesStatusStats.validCount
          hiveonValidShares = data.sharesStatusStats.validCount
          hiveonInvalidShares = data.sharesStatusStats.invalidCount
          hiveonStaleShares = data.sharesStatusStats.staleCount
          hiveonCurrentHashRate = data.hashrate
          hiveonReportedHashrate = data.reportedHashrate

          var totalReportedhashratetostring = hiveonReportedHashrate / 1000000
          var totalReportedhashrate = totalReportedhashratetostring.toString().substring(0, 6)
          hiveonReportedHashrate = totalReportedhashrate

          var totalCurrenthashratetostring = hiveonCurrentHashRate / 1000000
          var totalCurrenthashrate = totalCurrenthashratetostring.toString().substring(0, 6)
          hiveonCurrentHashRate = totalCurrenthashrate
        },

        error: function (request, status, error) {
          // alert(request.responseText);
        }
      })

      $.ajax({
        type: "get", url: "https://hiveon.net/api/v1/stats/miner/982a366cb0bfe6ea5c04a4017c839ef83b02978c/ETH/workers",
        success: function (data, text) {
          var results = data.workers
          var firstrig = '1_Rig_-_3060ti'
          var secondrig = '2_Rig_-_3070'
          var thirdrig = '3_Rig_-_Betty'
          // console.log(results[firstrig])
          // console.log(results[secondrig])
          // console.log(results[thirdrig])
          var firsthashrate = results[firstrig].reportedHashrate
          let secondhashrate = results[secondrig].reportedHashrate
          let thirdhashrate = results[thirdrig].reportedHashrate

          var power = ''
          if (hiveonCurrentHashRate >= 1000) {
            power = 'GH/S'
          } else {
            power = 'MH/s'
          }

          $('.hiveonDate').html('Date <br>' + date)
          $('.hiveonActiveWorkersOnline').html('Active Workers <br>' + hiveonActiveWorkersOnline)
          $('.hiveonCurrentHashRate').html('Current HashRate <br>' + hiveonCurrentHashRate + ' ' + power)
          $('.hiveonReportedHashrate').html('Reported HashRate <br>' + hiveonReportedHashrate + ' ' + power)
          $('.hiveonStaleshares').html('Stale Shares <br>' + hiveonStaleShares)
          $('.hiveonInvalidShares').html('Invalid Shares <br>' + hiveonInvalidShares)
          $('.hiveonValidShares').html('Valid Shares <br>' + hiveonValidShares)
          $('.hiveonProfit').html('Valid Shares <br>' + hiveonProfit)
          // $('.hiveonContainer').show() //IF ALL SUCCESS => SHOW

          setTimeout(
            function () {

              new Chart(document.getElementById("pie-chart"), {
                type: 'pie',
                data: {
                  labels: ["Ethermine", "Hiveon", "2miners Cortex"],
                  datasets: [{
                    label: "Percent",
                    backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f"],
                    data: [coinsPerday, hiveonProfit, cortexProfitPerDay]
                  }]
                },
                options: {
                  title: {
                    display: true,
                    text: 'Revenue par pool/coin'
                  }
                }
              });
            }, 5000);

        },
        error: function (request, status, error) {
          //  $('.ethermineContainer').hide() //IF ALL FAILED => HIDE
        },



        error: function (request, status, error) {
          // alert(request.responseText);
        }
      })


    }); // End of Document Ready
  </script>
</body>
<script src="js/aure.js"></script>

</html>